#### 目录介绍
- 01.什么是IP地址
- 02.域名解析IP
- 03.IPv4的协议包封装结构
- 04.子网掩码作用
- 05.MAC与IP区别



### 好消息
- 博客笔记大汇总【16年3月到至今】，包括Java基础及深入知识点，Android技术博客，Python学习笔记等等，还包括平时开发中遇到的bug汇总，当然也在工作之余收集了大量的面试题，长期更新维护并且修正，持续完善……开源的文件是markdown格式的！同时也开源了生活博客，从12年起，积累共计N篇[近100万字，陆续搬到网上]，转载请注明出处，谢谢！
- **链接地址：https://github.com/yangchong211/YCBlogs**
- 如果觉得好，可以star一下，谢谢！当然也欢迎提出建议，万事起于忽微，量变引起质变！



### 01.什么是IP地址
- IP协议是什么？
    - IP协议：用于将多个包交换网络连接起来的，它在源地址和目的地址之间传送一种称之为数据包的东西，它还提供对数据大小的重新组装功能，以适应不同网络对包大小的要求。
- 域名是干什么的？
    - 域名只是为了方便阅读和记忆，计算机并不能直接处理，还需要通过域名服务器（DNS）把域名解析为对应的IP地址才能进行网络访问。因此直接在网络浏览器的地址栏中输入相应的IP地址也是可以访问网络的。


### 02.域名解析IP
- 这块看DNS域名解析


### 03.IPv4的协议包封装结构
- IPv4的协议包封装结构是什么？
    - ![image](https://upload-images.jianshu.io/upload_images/4432347-69cc68077a40f157.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 该结构中的每个数据域的意思？
    - 版本号（VERS）： 4比特，表示IP协议版本号。目前的版本号是4，即IPv4。版本号规定了数据报的格式。版本不同，其数据报格式也有所不同，如IPv6的报文结构就和IPv4的结构不同。
    - 报文头长度（HLEN）： 4比特，表示报文头长度。报文头长度以4 Byte为单位计算。除IP选项（IP Options）和填充（Padding）字段可以不存在外，其他各字段必须存在。这些必须存在的字段是5个4 Byte，共20 Byte长。因此，报文头长度值一般是5 。又由于报文头长度必须是32比特的整数倍，所以当一个含有IP选项字段的IP数据报不是32比特的整数倍时，由填充字段用0补足。
    - 服务类型（Type of Service）： ToS字段，8比特，指示对本数据报的处理方式。它主要用来指示数据报的优先权及传输类型。QoS技术就是使用此字段对数据进行标记优先级的。
    - **总长（Total Length）：**16比特，以Byte为单位表示整个IP数据报长度，包括报文头及其携带的数据。因为总长字段是16比特，所以IP数据报最长可达216 1=65 535字节。
    - 标识（Identification）： 16比特，是发送者赋予数据报的标识符，接收者利用这个信息和源地址判断收到的分组属于哪个数据报，以便进行重组。因此，在分片时，该域必须不加修改地复制到各分片的报文头中。
    - 标志（Flags）： 3比特，只有低两位有效。第一比特为0时表示该分片是最后一片，如果该位是1表示后面还有分片。第二比特为0时表示可以对数据报进行分片，如果该位是1表示数据报不能分片。当该位设置为1而帧长度不匹配又必须分片时，设备就会将数据报丢弃并返回错误信息。
    - 片偏移（Fragment Offset）：指示本分片数据在初始数据报数据区中的偏移量，偏移量以8 Byte为单位，重组时分片顺序由片偏移提供。
    - 生存时间（Time To Live）：简称TTL，8比特，用来控制数据报在网络中存在的时间。目前TTL的值并不代表时间，而是代表经由路由器的个数。数据报每经过一台路由器时，路由器将TTL值减1，一旦TTL＝0，系统就丢弃该数据报，并返回错误信息。这样避免了路由出现环路时数据报在路由器之间无休止地循环。
    - 协议（Protocol）： 8比特，表示该数据报携带的数据是由哪个上层协议封装的，也就是指示传输层的协议类型。如最常见的协议类型是TCP或UDP。
    - 头校验和（Header Checksum）： 16比特，用于保证IP头数据的完整性。
    - 地址（Address）：分为源IP地址和目的IP地址，各占32比特，表明数据的来源及其到达的目的地。
    - 填充（Padding）：当IP报文头长度不是32比特的整数倍时，填充0来凑齐32比特整数倍，没有实际意义。
    - 数据（Data）：来自第4层的数据段。



### 04.子网掩码作用
- 子网掩码的作用主要是什么？[博客](https://github.com/yangchong211/YCBlogs)
    - 子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。
    - 用于子网掩码的位数决定于可能的子网数目和每个子网的主机数目。
    - 计算方法示例，定义子网掩码的步骤为：
        - A、确定哪些组地址归我们使用。比如我们申请到的网络号为 “210.73.a.b”，该网络地址为c类IP地址，网络标识为“210.73.a”，主机标识为“b”。
        - B、根据我们所需的子网数以及将来可能扩充到的子网数，用宿主机的一些位来定义子网掩码。比如我们需要12个子网，将来可能需要16个。用第四个字节的前四位确定子网掩码。前四位都置为“1”，即第四个字节为“11110000”，这个数我们暂且称作新的二进制子网掩码。
        - C、把对应初始网络的各个位都置为“1”，即前三个字节都置为“1”，则子网掩码的间断二进制形式为：“11111111.11111111.11111111.11110000” 。
        - D、把这个数转化为间断十进制形式为：“255.255.255.240” 。


### 05.MAC与IP区别
- 不同的特点主要有：
    - 对于网络上的某一设备，如一台计算机或一台路由器，其IP地址是基于网络拓扑设计出的，同一台设备或计算机上，改动IP地址是很容易的（但必须唯一），而MAC则是生产厂商烧录好的，一般不能改动。我们可以根据需要给一台主机指定任意的IP地址，如我们可以给局域网上的某台计算机分配IP地址为192.168.0.112 ，也可以将它改成192.168.0.200。而任一网络设备（如网卡，路由器）一旦生产出来以后，其MAC地址不可由本地连接内的配置进行修改。如果一个计算机的网卡坏了，在更换网卡之后，该计算机的MAC地址就变了。
    - 长度不同。IP地址为32位，MAC地址为48位。
    - 分配依据不同。IP地址的分配是基于网络拓扑，MAC地址的分配是基于制造商。
    - 寻址协议层不同。IP地址应用于OSI第三层，即网络层，而MAC地址应用在OSI第二层，即数据链路层。 数据链路层协议可以使数据从一个节点传递到相同链路的另一个节点上（通过MAC地址），而网络层协议使数据可以从一个网络传递到另一个网络上（ARP根据目的IP地址，找到中间节点的MAC地址，通过中间节点传送，从而最终到达目的网络）。



### 其他介绍
#### 01.关于博客汇总链接
- 1.[技术博客汇总](https://www.jianshu.com/p/614cb839182c)
- 2.[开源项目汇总](https://blog.csdn.net/m0_37700275/article/details/80863574)
- 3.[生活博客汇总](https://blog.csdn.net/m0_37700275/article/details/79832978)
- 4.[喜马拉雅音频汇总](https://www.jianshu.com/p/f665de16d1eb)
- 5.[其他汇总](https://www.jianshu.com/p/53017c3fc75d)



#### 02.关于我的博客
- github：https://github.com/yangchong211
- 知乎：https://www.zhihu.com/people/yczbj/activities
- 简书：http://www.jianshu.com/u/b7b2c6ed9284
- csdn：http://my.csdn.net/m0_37700275
- 喜马拉雅听书：http://www.ximalaya.com/zhubo/71989305/
- 开源中国：https://my.oschina.net/zbj1618/blog
- 泡在网上的日子：http://www.jcodecraeer.com/member/content_list.php?channelid=1
- 邮箱：yangchong211@163.com
- 阿里云博客：https://yq.aliyun.com/users/article?spm=5176.100- 239.headeruserinfo.3.dT4bcV
- segmentfault头条：https://segmentfault.com/u/xiangjianyu/articles
- 掘金：https://juejin.im/user/5939433efe88c2006afa0c6e



